self.addEventListener("message",(async e=>{const{currentAssistant:s,chatMessages:t,inputValue:a}=e.data;try{const e=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"content-type":"application/json","x-api-key":s.apiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-5-sonnet-20240620",system:s.prompt,messages:[...t.map((e=>({role:e.sender,content:e.text}))),{role:"user",content:a}],max_tokens:100})}),n=await e.json();self.postMessage({success:!0,data:n})}catch(n){self.postMessage({success:!1,error:n.message})}}));
//# sourceMappingURL=970.44a31460.chunk.js.map