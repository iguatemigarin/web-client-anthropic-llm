{"version":3,"file":"static/js/970.44a31460.chunk.js","mappings":"AAEAA,KAAKC,iBAAiB,WAAWC,UAC/B,MAAM,iBAAEC,EAAgB,aAAEC,EAAY,WAAEC,GAAeC,EAAMC,KAE7D,IACE,MAAMC,QAAiBC,MAAM,wCAAyC,CACpEC,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,YAAaR,EAAiBS,OAC9B,oBAAqB,cAEvBC,KAAMC,KAAKC,UAAU,CACnBC,MAAO,6BACPC,OAAQd,EAAiBe,OACzBC,SAAU,IACLf,EAAagB,KAAKC,IAAG,CACtBC,KAAMD,EAAIE,OACVC,QAASH,EAAII,SAEf,CAAEH,KAAM,OAAQE,QAASnB,IAE3BqB,WAAY,QAIVnB,QAAaC,EAASmB,OAC5B3B,KAAK4B,YAAY,CAAEC,SAAS,EAAMtB,QACpC,CAAE,MAAOuB,GACP9B,KAAK4B,YAAY,CAAEC,SAAS,EAAOC,MAAOA,EAAMC,SAClD","sources":["apiWorker.js"],"sourcesContent":["/* eslint-disable no-restricted-globals */\n\nself.addEventListener('message', async (event) => {\n  const { currentAssistant, chatMessages, inputValue } = event.data;\n\n  try {\n    const response = await fetch(\"https://api.anthropic.com/v1/messages\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"x-api-key\": currentAssistant.apiKey,\n        \"anthropic-version\": \"2023-06-01\",\n      },\n      body: JSON.stringify({\n        model: \"claude-3-5-sonnet-20240620\",\n        system: currentAssistant.prompt,\n        messages: [\n          ...chatMessages.map((msg) => ({\n            role: msg.sender,\n            content: msg.text,\n          })),\n          { role: \"user\", content: inputValue },\n        ],\n        max_tokens: 100,\n      }),\n    });\n\n    const data = await response.json();\n    self.postMessage({ success: true, data });\n  } catch (error) {\n    self.postMessage({ success: false, error: error.message });\n  }\n});\n\n/* eslint-enable no-restricted-globals */\n"],"names":["self","addEventListener","async","currentAssistant","chatMessages","inputValue","event","data","response","fetch","method","headers","apiKey","body","JSON","stringify","model","system","prompt","messages","map","msg","role","sender","content","text","max_tokens","json","postMessage","success","error","message"],"sourceRoot":""}